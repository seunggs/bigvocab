/*!
 * Angular Tooltips v0.1.15
 *
 * Released under the MIT license
 * www.opensource.org/licenses/MIT
 *
 * Brought to you by 720kb.net
 *
 * 2015-07-21
 */


!function(a){"use strict";a.module("720kb.tooltips",[]).directive("tooltips",["$window","$compile","$interpolate","$interval",function(b,c,d,e){var f=8,g=9,h=10,i=20,j="_720kb-tooltip-",k=d.startSymbol(),l=d.endSymbol();return{restrict:"A",scope:{},link:function(d,m,n){function o(){R&&B||(B=!0,d.initTooltip(L)),N&&d.tooltipTryPosition(),d.showTooltip()}function p(){d.hideTooltip()}function q(){d.hideTooltip(),d.initTooltip(K)}var r,s,t,u,v,w,x,y,z,A,B=!1,C=a.element(m[0]),D=a.element(b.document.getElementsByTagName("body")[0]),E=n.tooltipTitle||n.title||"",F=n.tooltipScroll||!1,G=n.tooltipContent||"",H=n.tooltipHtml||"",I=n.tooltipShowTrigger||"mouseover",J=n.tooltipHideTrigger||"mouseleave",K=n.tooltipSide||"top",L=K,M=n.tooltipSize||"medium",N="undefined"!=typeof n.tooltipTry&&null!==n.tooltipTry?d.$eval(n.tooltipTry):!0,O=n.tooltipClass||"",P=(n.tooltipSpeed||"medium").toLowerCase(),Q=n.tooltipDelay||0,R="undefined"!=typeof n.tooltipLazy&&null!==n.tooltipLazy?d.$eval(n.tooltipLazy):!0,S="undefined"!=typeof n.tooltipCloseButton&&null!==n.tooltipCloseButton,T=n.tooltipCloseButton||"",U='<div class="_720kb-tooltip '+j+M+'">';S&&(U=U+'<span class="'+j+'close-button" ng-click="hideTooltip()"> '+T+" </span>"),n.tooltipView&&(U=n.tooltipViewCtrl?U+'<div ng-controller="'+n.tooltipViewCtrl+'" ng-include="\''+n.tooltipView+"'\"></div>":U+"<div ng-include=\"'"+n.tooltipView+"'\"></div>"),U=U+'<div class="'+j+'title"> '+k+"title"+l+"</div>"+k+"content"+l+H+' <span class="'+j+'caret"></span></div>',d.title=E,d.content=G,d.html=H,d.parseSpeed=function(){switch(P){case"fast":P=100;break;case"medium":P=450;break;case"slow":P=800;break;default:P=Number(P)}},r=c(U)(d),r.addClass(O),D.append(r),d.isTooltipEmpty=function(){return d.title||d.content||d.html?void 0:!0},d.initTooltip=function(a){d.isTooltipEmpty()?r.css("visibility","hidden"):(r.css("visibility",""),v=C[0].offsetHeight,w=C[0].offsetWidth,s=r[0].offsetHeight,t=r[0].offsetWidth,d.parseSpeed(),d.tooltipPositioning(a))},d.getOffsets=function(){x=d.getOffsetTop(C[0]),y=d.getOffsetLeft(C[0])},d.getOffsetTop=function(a){return a.getBoundingClientRect().top+b.scrollY},d.getOffsetLeft=function(a){return a.getBoundingClientRect().left+b.scrollX},d.bindShowTriggers=function(){C.bind(I,o)},d.bindHideTriggers=function(){C.bind(J,p)},d.clearTriggers=function(){C.unbind(I,o),C.unbind(J,p)},d.bindShowTriggers(),d.showTooltip=function(){F&&(A=C[0].getBoundingClientRect(),z=e(function(){var b=C[0].getBoundingClientRect();a.equals(A,b)||d.tooltipPositioning(L),A=b},i)),r.addClass(j+"open"),r.css("transition","opacity "+P+"ms linear"),Q&&r.css("transition-delay",Q+"ms"),d.clearTriggers(),d.bindHideTriggers()},d.hideTooltip=function(){r.removeClass(j+"open"),r.css("transition",""),d.clearTriggers(),d.bindShowTriggers(),a.isDefined(d.positionInterval)&&(e.cancel(z),z=void 0)},d.removePosition=function(){r.removeClass(j+"left").removeClass(j+"right").removeClass(j+"top").removeClass(j+"bottom ")},d.tooltipPositioning=function(a){d.removePosition(),d.getOffsets();var b,c;"small"===M?u=f:"medium"===M?u=g:"large"===M&&(u=h),"left"===a&&(b=x+v/2-s/2,c=y-(t+u),r.css("top",b+"px"),r.css("left",c+"px"),r.addClass(j+"left")),"right"===a&&(b=x+v/2-s/2,c=y+w+u,r.css("top",b+"px"),r.css("left",c+"px"),r.addClass(j+"right")),"top"===a&&(b=x-u-s,c=y+w/2-t/2,r.css("top",b+"px"),r.css("left",c+"px"),r.addClass(j+"top")),"bottom"===a&&(b=x+v+u,c=y+w/2-t/2,r.css("top",b+"px"),r.css("left",c+"px"),r.addClass(j+"bottom"))},d.tooltipTryPosition=function(){var a=r[0].offsetHeight,c=r[0].offsetWidth,e=r[0].offsetTop,f=r[0].offsetLeft,g=b.innerWidth,h=b.innerHeight,i=g-(c+f),j=h-(a+e),k=C[0].offsetHeight,l=C[0].offsetWidth,m=C[0].offsetLeft,n=C[0].offsetTop,o=g-(m+l),p=h-(k+n),q={left:f,top:e,bottom:j,right:i},s={left:m,right:o,top:n,bottom:p},t=Object.keys(s).reduce(function(a,b){return s[a]>s[b]?a:b}),u=Object.keys(q).reduce(function(a,b){return q[a]<q[b]?a:b});K!==t&&q[u]<20&&(L=t,d.tooltipPositioning(L),d.initTooltip(t))},a.element(b).bind("resize",q),d.$on("$destroy",function(){a.element(b).unbind("resize",q),d.clearTriggers(),r.remove()}),n.tooltipTitle&&n.$observe("tooltipTitle",function(a){d.title=a,d.initTooltip(L)}),n.title&&n.$observe("title",function(a){d.title=a,d.initTooltip(L)}),n.tooltipContent&&n.$observe("tooltipContent",function(a){d.content=a,d.initTooltip(L)}),n.tooltipHtml&&n.$observe("tooltipHtml",function(a){d.html=a,d.initTooltip(L)})}}}])}(angular);
//# sourceMappingURL=angular-tooltips.sourcemap.map