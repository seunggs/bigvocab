{"version":3,"sources":["main-app/settings-controller.es6"],"names":[],"mappings":";;;;AAAA,AAAC,CAAA,YAAM;AACL,cAAY,CAAC;;MAEP,YAAY,GACL,SADP,YAAY,CACJ,eAAe,EAAE,IAAI,EAAE,QAAQ,EAAE;0BADzC,YAAY;;AAGd,QAAI,EAAE,GAAG,IAAI,CAAC;;;;AAId,MAAE,CAAC,QAAQ,GAAG,EAAE,CAAC;AACjB,MAAE,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;;AAE/C,MAAE,CAAC,WAAW,GAAG;AACf,mBAAa,EAAE,yBAAyB;KACzC,CAAC;AACF,MAAE,CAAC,QAAQ,GAAG;AACZ,aAAO,EAAE,KAAK;AACd,aAAO,EAAE,KAAK;KACf,CAAC;AACF,MAAE,CAAC,YAAY,GAAG;AAChB,aAAO,EAAE,KAAK;AACd,WAAK,EAAE,KAAK;KACb,CAAC;AACF,MAAE,CAAC,GAAG,GAAG;AACP,aAAO,EAAE,4BAA4B;AACrC,WAAK,EAAE,yCAAyC;KACjD,CAAC;AACF,MAAE,CAAC,sBAAsB,GAAG,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC;AAC3C,MAAE,CAAC,oBAAoB,GAAG,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC;;;;AAIvC,aAAS,cAAc,CAAE,MAAM,EAAE,aAAa,EAAE;AAC/C,UAAI,cAAc,GAAG,EAAE,aAAa,EAAE,aAAa,EAAE,CAAC;AACtD,aAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;;AAE5B,aAAO,eAAe,CAAC,MAAM,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;KACtD;;;;AAID,MAAE,CAAC,YAAY,GAAG,UAAA,aAAa,EAAI;AAClC,oBAAc,CAAC,IAAI,CAAC,EAAE,EAAE,aAAa,CAAC,CACpC,IAAI,CAAC,UAAA,KAAK,EAAI;;AAEd,eAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AAChB,UAAE,CAAC,QAAQ,CAAC,OAAO,GAAG,KAAK,CAAC;AAC5B,UAAE,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;;AAE3B,UAAE,CAAC,YAAY,CAAC,OAAO,GAAG,IAAI,CAAC;;AAE/B,gBAAQ,CAAC,YAAM;AACb,YAAE,CAAC,QAAQ,CAAC,OAAO,GAAG,KAAK,CAAC;SAC7B,EAAE,IAAI,CAAC,CAAC;OACV,CAAC,SACI,CAAC,UAAA,GAAG,EAAI;AACZ,UAAE,CAAC,QAAQ,CAAC,OAAO,GAAG,KAAK,CAAC;;AAE5B,UAAE,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC;OAC9B,CAAC,CAAC;KACN,CAAC;GAEH;;;;;;;;;AAUH,SAAO,CACJ,MAAM,CAAC,SAAS,CAAC,CACjB,UAAU,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;CAC7C,CAAA,EAAE,CAAE","file":"main-app/settings-controller.js","sourcesContent":["(() => {\n  'use strict';\n\n  class SettingsCtrl {\n    constructor(SettingsService, user, $timeout) {\n\n      let vm = this;\n\n      // config ////////////////////////////////////////////////////////////////////////////\n\n      vm.formData = {};\n      vm.formData.maxDailyWords = user.maxDailyWords;\n\n      vm.placeholder = {\n        maxDailyWords: 'i.e. 100 (default: 150)'\n      };\n      vm.btnState = {\n        loading: false,\n        success: false\n      };\n      vm.notification = {\n        success: false,\n        error: false\n      };\n      vm.msg = {\n        success: 'Change successfully saved!',\n        error: 'Something went wrong. Please try again.'\n      };\n      vm.notificationSuccessMsg = vm.msg.success;\n      vm.notificationErrorMsg = vm.msg.error;\n\n      // helper functions /////////////////////////////////////////////////////////////////\n\n      function changeSettings (userId, maxDailyWords) {\n      \tlet settingsUpdate = { maxDailyWords: maxDailyWords };\n      \tconsole.log(settingsUpdate);\n\n      \treturn SettingsService.update(userId, settingsUpdate);\n      }\n\n      // main //////////////////////////////////////////////////////////////////////////////\n\n      vm.saveSettings = maxDailyWords => {\n      \tchangeSettings(user.id, maxDailyWords)\n      \t\t.then(dbRes => {\n\n      \t\t\tconsole.log(dbRes);\n            vm.btnState.loading = false;\n            vm.btnState.success = true;\n\n            vm.notification.success = true;\n\n            $timeout(() => {\n              vm.btnState.success = false;\n            }, 1500);\n          })\n          .catch(err => {\n            vm.btnState.loading = false;\n\n            vm.notification.error = true;\n          });\n      };\n\n    }\n  }\n\n  /**\n   * @ngdoc object\n   * @name mainApp.controller:SettingsCtrl\n   *\n   * @description\n   *\n   */\n  angular\n    .module('mainApp')\n    .controller('SettingsCtrl', SettingsCtrl);\n}());\n"],"sourceRoot":"/source/"}