{"version":3,"sources":["main-app/list-words-controller.es6"],"names":[],"mappings":"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","file":"main-app/list-words-controller.js","sourcesContent":["(() => {\r\n  'use strict';\r\n\r\n  class ListWordsCtrl {\r\n    constructor(CollectionsService, WordsService, $timeout, user) {\r\n\r\n      let vm = this;\r\n\r\n\t\t\t// config ////////////////////////////////////////////////////////////////////////////\r\n\r\n      vm.formData = {};\r\n      vm.showEdit = {};\r\n      vm.btnState = {\r\n        loading: false,\r\n        success: false\r\n      };\r\n      vm.notification = {\r\n        success: false,\r\n        error: false\r\n      };\r\n      vm.msg = {\r\n        success: 'Change successfully saved!',\r\n        error: 'Something went wrong. Please try again.'\r\n      };\r\n      vm.notificationSuccessMsg = vm.msg.success;\r\n      vm.notificationErrorMsg = vm.msg.error;\r\n\r\n\t\t\t// init //////////////////////////////////////////////////////////////////////////////\r\n\r\n\t\t\tgetAllWords(user.id);\r\n\r\n      // helper functions //////////////////////////////////////////////////////////////////\r\n\r\n      function getAllWords (userId) {\r\n\t      WordsService.getUserAll(userId)\r\n\t      \t.then(res => {\r\n\t      \t\tvar words = angular.fromJson(res).data;\r\n\r\n\t      \t\tvm.words = words;\r\n\r\n\t      \t\tinitShowEdit(words);\r\n\t      \t})\r\n\t      \t.catch(errHandler);\r\n      }\r\n\r\n      function initShowEdit (words) {\r\n      \twords.map(word => {\r\n      \t\tvm.showEdit[word.id] = false;\r\n      \t\treturn word;\r\n      \t});\r\n      }\r\n\r\n      function errHandler (err) {\r\n        vm.btnState.loading = false;\r\n        vm.notification.error = true;\r\n        console.log('Something went wrong: ', err);\r\n      }\r\n\r\n      // main //////////////////////////////////////////////////////////////////////////////\r\n\r\n      vm.toggleEdit = word => {\r\n    \t\tvm.formData.word = word.word;\r\n\t  \t\tvm.formData.definition = word.definition;\r\n\r\n      \tvm.showEdit[word.id] = !vm.showEdit[word.id];\r\n      };\r\n\r\n      vm.saveChanges = (isValid, wordId, formData) => {\r\n      \tif (!isValid) { return; }\r\n\r\n      \tWordsService.update(wordId, formData)\r\n      \t\t.then(() => {\r\n            vm.btnState.loading = false;\r\n            vm.btnState.success = true;\r\n\r\n            vm.notification.success = true;\r\n\r\n            $timeout(() => {\r\n              vm.btnState.success = false;\r\n\t\r\n\t            vm.showEdit[wordId] = !vm.showEdit[wordId];\r\n\t            getAllWords(user.id);\r\n            }, 1500);\r\n      \t\t})\r\n      \t\t.catch(errHandler);\r\n      };\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @ngdoc object\r\n   * @name mainApp.controller:ListWordsCtrl\r\n   *\r\n   * @description\r\n   *\r\n   */\r\n  angular\r\n    .module('mainApp')\r\n    .controller('ListWordsCtrl', ListWordsCtrl);\r\n}());\r\n"],"sourceRoot":"/source/"}